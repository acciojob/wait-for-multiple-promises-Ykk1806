<!DOCTYPE html>

<html>
  <head>
    <link rel="stylesheet" href="styles.css" />
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-GLhlTQ8iRABdZLl6O3oVMWSktQOp6b7In1Zl3/Jr59b6EGGoI1aFkw7cmDA6j6gD"
      crossorigin="anonymous"
    />
  </head>

  <body>
    <!-- the entire body must be written by student -->
    <table class="table table-striped table-hover table-bordered">
      <thead>
        <tr>
          <th>Promise Name</th>
          <th>Time taken (s)</th>
        </tr>
      </thead>
      <tbody id="output">
        <tr>
            <td colspan="2" id="loading">Loading...</td>
        </tr>
      </tbody>
    </table>
     
    <script>
        let loading=document.getElementById('loading');
        let output=document.getElementById('output');
       function promiseResolution(name,time)
       {
          return new Promise((resolve,reject)=>{
            setTimeout(()=>{
               resolve(`${name},${time/1000}`);
            },time)
          })
       }
      let t1=promiseResolution('Promise 1',2000);
      let t2=promiseResolution('Promise 2',3000);
      let t3=promiseResolution('Promise 3',1000);

      Promise.all([t1,t2,t3])
      .then((res)=>{
        console.log(res)
        loading.style.display='none';
        res.forEach((ele)=>{
            let row=document.createElement('tr');
            let td1=document.createElement('td');
            let td2=document.createElement('td');
            let[name,time]=ele.split(',')
            td1.innerText=name;
            td2.innerText=time;
            row.append(td1,td2);
            output.appendChild(row);


        })
        //array of time
        let Time=[]
        let total=res.forEach((ele)=>{
           let[name,time] =ele.split(',')
           Time.push(time);
        })
        //calculating the max time
        let maxTime=Math.max(...Time);

       let row=document.createElement('tr');
       let th=document.createElement('th');
       let td2=document.createElement('td');

       th.innerText='Total';
       td2.innerText=maxTime;
       row.append(th,td2);
       output.appendChild(row)

      })//then

    </script>
  </body>
</html>
